<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6248994341461229"
     crossorigin="anonymous"></script>
        <title>[React] Adding Interactivity - Joohwan&#39;s blog</title><meta name="Description" content="Hello this is description"><meta property="og:title" content="[React] Adding Interactivity" />
<meta property="og:description" content="Adding Interactivity React의 함수는 기본적으로 pure해야 한다. 하지만 우리는 사용자의 상호작용에 의해서 함수가 렌더링 된 이후에도 값을 바꾸거나 어떤 동작을 수행하고 싶을때가 있다. 해당 React 공식문서의 Adding Interactivity 파트에서는 이러한 값들을 어디에서 어떻게 처리해야 하는지 알려준다.
대표적으로 event handler들은 purity를 유지할 필요가 없다. 따라서 이러한 event handler 함수 안에 뭔가를 바뀌는 것들을 넣어 주면 좋다. 예를 들어서 타이핑에 따라서 변수의 값을 바꾼다던지, 버튼을 눌렀을때 함수 바깥에 있는 리스트를 바꾸는 등의 행동을 할 수 있다." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://jwanp.github.io/posts/react-adding-interactivity/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2025-05-18T16:55:10+09:00" />
<meta property="article:modified_time" content="2025-05-18T16:55:10+09:00" /><meta property="og:site_name" content="Hello this is title" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="[React] Adding Interactivity"/>
<meta name="twitter:description" content="Adding Interactivity React의 함수는 기본적으로 pure해야 한다. 하지만 우리는 사용자의 상호작용에 의해서 함수가 렌더링 된 이후에도 값을 바꾸거나 어떤 동작을 수행하고 싶을때가 있다. 해당 React 공식문서의 Adding Interactivity 파트에서는 이러한 값들을 어디에서 어떻게 처리해야 하는지 알려준다.
대표적으로 event handler들은 purity를 유지할 필요가 없다. 따라서 이러한 event handler 함수 안에 뭔가를 바뀌는 것들을 넣어 주면 좋다. 예를 들어서 타이핑에 따라서 변수의 값을 바꾼다던지, 버튼을 눌렀을때 함수 바깥에 있는 리스트를 바꾸는 등의 행동을 할 수 있다."/>
<meta name="application-name" content="My cool site">
<meta name="apple-mobile-web-app-title" content="My cool site"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://jwanp.github.io/posts/react-adding-interactivity/" /><link rel="prev" href="http://jwanp.github.io/posts/react-describing-the-ui/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "[React] Adding Interactivity",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/jwanp.github.io\/posts\/react-adding-interactivity\/"
        },"image": ["https:\/\/user-images.githubusercontent.com\/77142334\/227780652-4a867037-5843-4d78-b5e7-9c27f6203e23.png"],"genre": "posts","wordcount":  1337 ,
        "url": "http:\/\/jwanp.github.io\/posts\/react-adding-interactivity\/","datePublished": "2025-05-18T16:55:10+09:00","dateModified": "2025-05-18T16:55:10+09:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "박주환"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Joohwan&#39;s blog">Joohwan&#39;s dev blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><a class="menu-item" href="/about/"> About </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Joohwan&#39;s blog">Joohwan&#39;s dev blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a class="menu-item" href="/about/" title="">About</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">[React] Adding Interactivity</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>박주환</a></span>&nbsp;<span class="post-category">included in <a href="/categories/tech/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Tech</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2025-05-18">2025-05-18</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;1337 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;7 minutes&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/tech/React-adding-interactivity.png"
        data-srcset="/images/tech/React-adding-interactivity.png, /images/tech/React-adding-interactivity.png 1.5x, /images/tech/React-adding-interactivity.png 2x"
        data-sizes="auto"
        alt="/images/tech/React-adding-interactivity.png"
        title="/images/tech/React-adding-interactivity.png" /></div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#adding-interactivity">Adding Interactivity</a>
      <ul>
        <li><a href="#adding-event-handlershttpsreactdevlearnresponding-to-eventsadding-event-handlers"><a href="https://react.dev/learn/responding-to-events#adding-event-handlers">Adding event handlers</a></a></li>
        <li><a href="#naming-conventionshttpsreactdevlearnresponding-to-eventsnaming-event-handler-props"><a href="https://react.dev/learn/responding-to-events#naming-event-handler-props">Naming conventions</a></a></li>
        <li><a href="#event-propagationhttpsreactdevlearnresponding-to-eventsevent-propagation"><a href="https://react.dev/learn/responding-to-events#event-propagation">Event propagation</a></a></li>
        <li><a href="#prevent-default-behaviorhttpsreactdevlearnresponding-to-eventspreventing-default-behavior"><a href="https://react.dev/learn/responding-to-events#preventing-default-behavior">Prevent Default behavior</a></a></li>
        <li><a href="#meet-your-first-hookhttpsreactdevlearnstate-a-components-memory"><a href="https://react.dev/learn/state-a-components-memory">Meet your first Hook</a></a></li>
        <li><a href="#giving-a-component-multiple-state-variableshttpsreactdevlearnstate-a-components-memory"><a href="https://react.dev/learn/state-a-components-memory">Giving a component multiple state variables</a></a></li>
        <li><a href="#how-does-react-know-which-state-to-returnhttpsreactdevlearnstate-a-components-memoryhow-does-react-know-which-state-to-return-"><a href="https://react.dev/learn/state-a-components-memory#how-does-react-know-which-state-to-return">How does React know which state to return?</a> ⭐️⭐️</a></li>
        <li><a href="#state-is-isolated-and-privatehttpsreactdevlearnstate-a-components-memorystate-is-isolated-and-private"><a href="https://react.dev/learn/state-a-components-memory#state-is-isolated-and-private">State is isolated and private</a></a></li>
        <li><a href="#react-commits-changes-to-the-domhttpsreactdevlearnrender-and-commitstep-3-react-commits-changes-to-the-dom"><a href="https://react.dev/learn/render-and-commit#step-3-react-commits-changes-to-the-dom">React commits changes to the DOM</a></a></li>
        <li><a href="#rendering-takes-a-snapshot-in-time-httpsreactdevlearnstate-as-a-snapshotrendering-takes-a-snapshot-in-time"><a href="https://react.dev/learn/state-as-a-snapshot#rendering-takes-a-snapshot-in-time">Rendering takes a snapshot in time </a></a></li>
        <li><a href="#updating-objects-in-statehttpsreactdevlearnupdating-objects-in-state"><a href="https://react.dev/learn/updating-objects-in-state">Updating Objects in State</a></a></li>
        <li><a href="#updating-arrays-in-statehttpsreactdevlearnupdating-arrays-in-state-"><a href="https://react.dev/learn/updating-arrays-in-state">Updating Arrays in State</a> ⭐️⭐️</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><br />

<h2 id="adding-interactivity">Adding Interactivity</h2>
<p>React의 함수는 기본적으로 pure해야 한다. 하지만 우리는 사용자의 상호작용에 의해서 함수가 렌더링 된 이후에도 값을 바꾸거나 어떤 동작을 수행하고 싶을때가 있다. 해당 React <a href="https://react.dev/learn/adding-interactivity" target="_blank" rel="noopener noreffer ">공식문서의 Adding Interactivity</a> 파트에서는 이러한 값들을 어디에서 어떻게 처리해야 하는지 알려준다.</p>
<p>대표적으로 <strong>event handler</strong>들은 purity를 유지할 필요가 없다. 따라서 이러한 event handler 함수 안에 뭔가를 바뀌는 것들을 넣어 주면 좋다. 예를 들어서 타이핑에 따라서 변수의 값을 바꾼다던지, 버튼을 눌렀을때 함수 바깥에 있는 리스트를 바꾸는 등의 행동을 할 수 있다.</p>
<p>여기에서 정리한 것은 공식문서의 내용을 모두 정리한 것이 아니라 내가 생각했을때에 까먹기 쉽거나 했갈릴 수 있는 내용이어서 다시한번 읽어보면 좋을 만한 내용들을 정리 한 것이다.</p>
<p>중요도 표시는 더 깊게 공부하면 좋을만한 내용이지 리액트 개념자체의 중요도를 나타낸 것은 아니다.</p>
<h3 id="adding-event-handlershttpsreactdevlearnresponding-to-eventsadding-event-handlers"><a href="https://react.dev/learn/responding-to-events#adding-event-handlers" target="_blank" rel="noopener noreffer ">Adding event handlers</a></h3>
<p>button 이나 컴포넌트에 event handler를 더할때
호출하면 안되고 event handler를 전달해야 한다.</p>
<table>
<thead>
<tr>
<th>passing a function</th>
<th>calling a function</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;button onClick={handleClick}&gt;</code></td>
<td><code>&lt;button onClick={handleClick()}&gt;</code></td>
</tr>
</tbody>
</table>
<p>React는 해당 컴포넌트가 렌더링 될때 {} 안에 있는 코드를 바로 실행 한다. 만약 함수를 호출하는 코드를 적으면 렌더링 될때 해당 함수가 바로 실행 된다.</p>
<h3 id="naming-conventionshttpsreactdevlearnresponding-to-eventsnaming-event-handler-props"><a href="https://react.dev/learn/responding-to-events#naming-event-handler-props" target="_blank" rel="noopener noreffer ">Naming conventions</a></h3>
<p>event handler의 <strong>함수의 이름</strong>을 지을때는 <strong>handle</strong>으로 시작한 event의 이름을 지어야 한다.
event handler를 <strong>prop으로</strong> 넘겨 줄때에 그 prop의 이름은 <strong>on</strong>으로 시작하여 이름을 지어야한다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">PlayButton</span><span class="p">({</span> <span class="nx">movieName</span> <span class="p">})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">function</span> <span class="nx">handlePlayClick() {</span>
</span></span><span class="line"><span class="cl">    <span class="nx">alert</span><span class="p">(</span><span class="sb">`Playing </span><span class="si">${</span><span class="nx">movieName</span><span class="si">}</span><span class="sb">!`</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">&lt;</span><span class="nt">Button</span> <span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handlePlayClick</span><span class="p">}&gt;</span><span class="nx">Play</span> <span class="s2">&#34;{movieName}&#34;</span><span class="p">&lt;/</span><span class="nt">Button</span><span class="p">&gt;;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="event-propagationhttpsreactdevlearnresponding-to-eventsevent-propagation"><a href="https://react.dev/learn/responding-to-events#event-propagation" target="_blank" rel="noopener noreffer ">Event propagation</a></h3>
<p>이건 기본 브라우저의 행동 중 하나인 <a href="https://developer.mozilla.org/en-US/docs/Learn_web_development/Core/Scripting/Event_bubbling" target="_blank" rel="noopener noreffer ">event bubbling</a>과 같다. 즉 이벤트 핸들러가 계속해서 부모를 참조해서 실행한다. 예를 들어서 div 안에 button이 있고 button 과 div 모두 onClick event handler가 등록되어 있다면 먼저 button의 event handler를 실행 시키고 다음으로 div의 onClick event handler를 실행 시킨다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Toolbar</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span>
</span></span><span class="line"><span class="cl">      <span class="na">className</span><span class="o">=</span><span class="s">&#34;Toolbar&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="na">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;You clicked on the toolbar!&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}}&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;Playing!&#39;</span><span class="p">)}&gt;</span><span class="nx">Play</span> <span class="nx">Movie</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;Uploading!&#39;</span><span class="p">)}&gt;</span><span class="nx">Upload</span> <span class="nx">Image</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Playgin! =&gt; You clicked on the toolbar! 순서대로 콘솔창에 프린트된다.</p>
<p>따라서 이를 방지 하기 위해서는 다음과 같이 <code>(e)=&gt;{e.stopPropagation();}</code>을 작성해 줘야 한다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">button</span>
</span></span><span class="line"><span class="cl">  <span class="na">onClick</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">e</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="nx">onClick</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}}&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span><span class="nx">children</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>만약 이벤트는 방지하고 싶은데 이벤트가 실행됐는지 알고 싶을때가 있으면 함수 마지막에 Capture을 써주면 해당 함수가 가장 먼저 실행된다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span>
</span></span><span class="line"><span class="cl">  <span class="na">onClickCapture</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/* this runs first */</span>
</span></span><span class="line"><span class="cl">  <span class="p">}}&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">e</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">()}</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">e</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">()}</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></div><h3 id="prevent-default-behaviorhttpsreactdevlearnresponding-to-eventspreventing-default-behavior"><a href="https://react.dev/learn/responding-to-events#preventing-default-behavior" target="_blank" rel="noopener noreffer ">Prevent Default behavior</a></h3>
<p>browser에서 행동하는 기본 동작들이 있다. 예를 들어서 form태그 안의 button을 클릭하면 페이지를 자동으로 리로드 하는데, 이를 방지하기 위해서는 <code>e.preventDefault()</code> 함수를 실행 하면 된다. browser의 기본 동작은 <a href="https://developer.mozilla.org/en-US/docs/Learn_web_development/Core/Scripting/Events#preventing_default_behavior" target="_blank" rel="noopener noreffer ">Preventing default behavior</a>에서 확인 할 수 있다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Signup</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">form</span>
</span></span><span class="line"><span class="cl">      <span class="na">onSubmit</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;Submitting!&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}}&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">input</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">button</span><span class="p">&gt;</span><span class="nx">Send</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><hr>
<p>지금 까지는 event handler를 사용할때에 까머다시 상기하면 좋은 내용들을 정리한 내용이 었다.
이러한 event handler를 통해서 UI를 보여주는 함수가 렌더링된 이후에도 무언가를 바꿀 수 있다. 이러한 바꾸는 값들은 보통 <code>useState()</code> 안에 저장한다.</p>
<h3 id="meet-your-first-hookhttpsreactdevlearnstate-a-components-memory"><a href="https://react.dev/learn/state-a-components-memory" target="_blank" rel="noopener noreffer ">Meet your first Hook</a></h3>
<p>hook은 use으로 시작하는 함수들이다. 이러한 hook들은 React가 렌더링 되는 동안만 사용할 수 있다. 따라서 이러한 훅들은 컴포넌트의 최상위 부모 혹은 해당 훅을 선언한 곳에서만 사용할 수 있다.</p>
<h3 id="giving-a-component-multiple-state-variableshttpsreactdevlearnstate-a-components-memory"><a href="https://react.dev/learn/state-a-components-memory" target="_blank" rel="noopener noreffer ">Giving a component multiple state variables</a></h3>
<p>State를 선언할때 서로 상관이 없고 따로 동작한다면 두개의 다른 useState를 선언해도 된다. 하지만 항상 <strong>둘이 함께 업데이트 되는 변수라면 object안에 함께 선언하는 것이 좋다.</strong></p>
<p>왜냐하면 setState를 할때마다 재렌더링이 일어나는데, 두개의 변수가 동시에 업데이트 되면 두번의 다른 렌더링이 일어나기 때문이다. 따라서 두개의 변수를 object안에 함께 선언 함으로 변수가 업데이트 되었을때 한번만 재 랜더링이 일어나게 하는 것이 좋다.</p>
<p>추가 적인 정보는 <a href="https://react.dev/learn/choosing-the-state-structure" target="_blank" rel="noopener noreffer ">Choosing the State Structure</a> 에서 확인 할 수 있다.</p>
<h3 id="how-does-react-know-which-state-to-returnhttpsreactdevlearnstate-a-components-memoryhow-does-react-know-which-state-to-return-"><a href="https://react.dev/learn/state-a-components-memory#how-does-react-know-which-state-to-return" target="_blank" rel="noopener noreffer ">How does React know which state to return?</a> ⭐️⭐️</h3>
<p>React의 훅이 어떠한 방식으로 동작하는지 나와있다. HTML가 JS코드가 주어져 있고 <a href="https://medium.com/@ryardley/react-hooks-not-magic-just-arrays-cd4f1857236e" target="_blank" rel="noopener noreffer ">React Hooks: Not Magic, Just Arrays.</a> 글을 읽어 보면 좋다고 한다.</p>
<h3 id="state-is-isolated-and-privatehttpsreactdevlearnstate-a-components-memorystate-is-isolated-and-private"><a href="https://react.dev/learn/state-a-components-memory#state-is-isolated-and-private" target="_blank" rel="noopener noreffer ">State is isolated and private</a></h3>
<p>State를 여러번 호출하더라도 공유되지 않는다. 만약 같은 hook으로 두개의 변수를 선언 했더라도 두개의 변수는 완전 다르게 동작한다. 따라서 만약에 두개의 컴포넌트에서 하나의 hook 변수를 공유하고 싶다면, 가장 가까운 부모 컴포넌트에서 hook을 선언한뒤에 props으로 넘겨 줘야한다.</p>
<h3 id="react-commits-changes-to-the-domhttpsreactdevlearnrender-and-commitstep-3-react-commits-changes-to-the-dom"><a href="https://react.dev/learn/render-and-commit#step-3-react-commits-changes-to-the-dom" target="_blank" rel="noopener noreffer ">React commits changes to the DOM</a></h3>
<p>React app에서의 화면 변화는 항상 세가지의 단계로 이루어져 있다.</p>
<ol>
<li>Trigger: 어떠한 행동으로 인해서 값들이 바뀐다.</li>
<li>Render: 어떠한 값들이 바뀌었는지 파악하여 업데이트 되어야 하는 컴포넌트를 호출한다.</li>
<li>Commit: 가장 최근 DOM과 비교하여 최소한의 DOM업데이트를 진행한다.</li>
</ol>
<p>이때 tag기준으로 컴포넌트의 다른 값들이 변경되어도 해당 tag에 영향이 없다면 update하지 않는다.
예를 들어서 <code>Clock</code>컴포넌트의 <code>time</code> props가 바뀌더라도 input에 있는 값은 그대로 남는다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Clock</span><span class="p">({</span> <span class="nx">time</span> <span class="p">})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;{</span><span class="nx">time</span><span class="p">}&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">input</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="rendering-takes-a-snapshot-in-time-httpsreactdevlearnstate-as-a-snapshotrendering-takes-a-snapshot-in-time"><a href="https://react.dev/learn/state-as-a-snapshot#rendering-takes-a-snapshot-in-time" target="_blank" rel="noopener noreffer ">Rendering takes a snapshot in time </a></h3>
<p>React의 컴포넌트의 <strong>state들은 하나의 snapshot</strong>처럼 여겨진다.</p>
<p>이러한 특성으로 인해서 특히 다음과 같은 사항을 조심해야한다. 다음과 같은 Counter 컴포넌트 안의 버튼을 클릭했을때 setState를 3번했지만 number은 여전히 1이다. <strong>왜냐하면 3개의 number모두다 0이기 때문이다.</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Counter</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">[</span><span class="nx">number</span><span class="p">,</span> <span class="nx">setNumber</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;{</span><span class="nx">number</span><span class="p">}&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">button</span>
</span></span><span class="line"><span class="cl">        <span class="na">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="c1">// 클릭하면 다음 렌더에 number = 1 이 할당되어 있다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nx">setNumber</span><span class="p">(</span><span class="nx">number</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">          <span class="nx">setNumber</span><span class="p">(</span><span class="nx">number</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">          <span class="nx">setNumber</span><span class="p">(</span><span class="nx">number</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}}&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">+</span><span class="mi">3</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>즉 다음과 같이 실행 되는 것이다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">button</span>
</span></span><span class="line"><span class="cl">  <span class="na">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">setNumber</span><span class="p">(</span><span class="mi">0</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">setNumber</span><span class="p">(</span><span class="mi">0</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">setNumber</span><span class="p">(</span><span class="mi">0</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}}&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="o">+</span><span class="mi">3</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>다음과 같은 경우도 마찬가지로 alert에 5가 아니라 0이 뜬다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Counter</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">[</span><span class="nx">number</span><span class="p">,</span> <span class="nx">setNumber</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;{</span><span class="nx">number</span><span class="p">}&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">button</span>
</span></span><span class="line"><span class="cl">        <span class="na">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">setNumber</span><span class="p">(</span><span class="nx">number</span> <span class="o">+</span> <span class="mi">5</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">          <span class="nx">alert</span><span class="p">(</span><span class="nx">number</span><span class="p">);</span> <span class="c1">// 0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}}&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">+</span><span class="mi">5</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>하지만 만약에 re-render하기 전에 가장 최신의값(re-render가 된뒤에 가져올 값)을 가져오려면 어떻게 해야 할까?</p>
<p>updater function을 이용하면 된다. 이는 <code>state =&gt; state + 1</code> 형태로 쓰며 setState안에 state를 쓰는 것이 아니라 해당 함수를 쓰면 state안에 있는 queue에 접근해서 최신 값을 불러 온다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Counter</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">[</span><span class="nx">number</span><span class="p">,</span> <span class="nx">setNumber</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;{</span><span class="nx">number</span><span class="p">}&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">button</span>
</span></span><span class="line"><span class="cl">        <span class="na">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">setNumber</span><span class="p">((</span><span class="nx">n</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="c1">// 1 을 Queue에 더한다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nx">setNumber</span><span class="p">((</span><span class="nx">n</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="c1">// 2 을 Queue에 더한다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nx">setNumber</span><span class="p">((</span><span class="nx">n</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="c1">// 3 을 Queue에 더한다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}}&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">+</span><span class="mi">3</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><strong>updater function</strong>의 이름은 해당 변수의 처음 나오는 글자들로 해주는 것이 일반적이다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="nx">setEnabled</span><span class="p">((</span><span class="nx">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="o">!</span><span class="nx">e</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">setLastName</span><span class="p">((</span><span class="nx">ln</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">ln</span><span class="p">.</span><span class="nx">reverse</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"><span class="nx">setFriendCount</span><span class="p">((</span><span class="nx">fc</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">fc</span> <span class="o">*</span> <span class="mi">2</span><span class="p">);</span>
</span></span></code></pre></div><hr>
<h3 id="updating-objects-in-statehttpsreactdevlearnupdating-objects-in-state"><a href="https://react.dev/learn/updating-objects-in-state" target="_blank" rel="noopener noreffer ">Updating Objects in State</a></h3>
<ul>
<li>
<p><strong>immutable:</strong> read-only 값들로서 변수의 값들을 바꿀 수 없다. Javascript에서는 numbers, strings, boolean들이 있다.</p>
</li>
<li>
<p><strong>mutation</strong>: 변수의 값들을 바꾸는 것들을 의미한다. 예를들어 Object나 Array안의 있는 값들을 바꿀 수 있다.</p>
</li>
</ul>
<p><code>const [position, setPosition] = useState({ x: 0, y: 0 });</code> 이러한 object가 있을때
<code>position.x = 5</code>으로 해당 object안의 속성들을 바꾸는 것을 <strong>mutation</strong>이라고 한다.</p>
<p>따라서 React의 state가 snapshot처럼 동작하게 하려면 우리는 state에 Javascript <strong>Object를 할당 했더라도 read-only 처럼 여겨야 한다.</strong></p>
<p>즉 state값들을 업데이트 하고 이로 인해 re-render를 trigger하고 싶다면, <strong>mutation을 쓰는 대신에 새로운 Object를 할당해 줘야한다.</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="c1">// ❎ screen 업데이트 안됨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">onPointerMove</span><span class="o">=</span><span class="p">{</span><span class="nx">e</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">position</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">clientX</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="nx">position</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">clientY</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ✅ 잘 동작함
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">onPointerMove</span><span class="o">=</span><span class="p">{</span><span class="nx">e</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">setPosition</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">		<span class="nx">x</span><span class="o">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">clientX</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">y</span><span class="o">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">clientY</span>
</span></span><span class="line"><span class="cl">	<span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">}}</span>
</span></span></code></pre></div><h4 id="using-a-single-event-handler-for-multiple-fieldshttpsreactdevlearnupdating-objects-in-stateusing-a-single-event-handler-for-multiple-fields"><a href="https://react.dev/learn/updating-objects-in-state#using-a-single-event-handler-for-multiple-fields" target="_blank" rel="noopener noreffer ">Using a single event handler for multiple fields</a></h4>
<p>우리는 object안에 있는 다른 값들은 유지하고 하나의 속성만 바꾸고 싶을때 <code>...</code>(shallow copy - 1 level)을 이용해서 새로운 object를 할당 할 수 있다.</p>
<p>이때 속성의 이름마다 event handler를 작성해야 해서 번거롭다. 하지만 []를 이용하여 dynamic name으로 특정 속성을 지정할 수 있다. 특히 form data를 수정할때 편리한 것 같다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Form</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">[</span><span class="nx">person</span><span class="p">,</span> <span class="nx">setPerson</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">firstName</span><span class="o">:</span> <span class="s1">&#39;Barbara&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">lastName</span><span class="o">:</span> <span class="s1">&#39;Hepworth&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;bhepworth@sculpture.com&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// event handler함수 하나만으로 모든 이름을 수정한다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kd">function</span> <span class="nx">handleChange</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">setPerson</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// shallow copy (한 단계만 복사함으로 nested object는 다시 해줘야함)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="p">...</span><span class="nx">person</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// dynamic name : 값
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="p">[</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span><span class="o">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">First</span> <span class="nx">name</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;firstName&#34;</span> <span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">person</span><span class="p">.</span><span class="nx">firstName</span><span class="p">}</span> <span class="na">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">handleChange</span><span class="p">}</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">Last</span> <span class="nx">name</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;lastName&#34;</span> <span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">person</span><span class="p">.</span><span class="nx">lastName</span><span class="p">}</span> <span class="na">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">handleChange</span><span class="p">}</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">Email</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;email&#34;</span> <span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">person</span><span class="p">.</span><span class="nx">email</span><span class="p">}</span> <span class="na">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">handleChange</span><span class="p">}</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nx">person</span><span class="p">.</span><span class="nx">firstName</span><span class="p">}</span> <span class="p">{</span><span class="nx">person</span><span class="p">.</span><span class="nx">lastName</span><span class="p">}</span> <span class="p">({</span><span class="nx">person</span><span class="p">.</span><span class="nx">email</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>만약 이렇게 여러번 nested된 object들을 copy하기 번거롭다면 <a href="https://github.com/immerjs/use-immer" target="_blank" rel="noopener noreffer ">Immer</a> 라이브러리를 사용</p>
<h3 id="updating-arrays-in-statehttpsreactdevlearnupdating-arrays-in-state-"><a href="https://react.dev/learn/updating-arrays-in-state" target="_blank" rel="noopener noreffer ">Updating Arrays in State</a> ⭐️⭐️</h3>
<p>React에서 Array를 업데이트 할때도 Object와 마찬가지로 해줘야한다. 그렇게 하기 위해서 <code>filter()</code> 과 <code>map()</code>과 같은 mutate하지 않는 함수들을 활용할 수 있다.</p>
<table>
<thead>
<tr>
<th></th>
<th>avoid (mutates the array)</th>
<th>prefer (returns a new array)</th>
</tr>
</thead>
<tbody>
<tr>
<td>adding</td>
<td><code>push</code>, <code>unshift</code></td>
<td><code>concat</code>, <code>[...arr]</code> spread syntax (<a href="https://react.dev/learn/updating-arrays-in-state#adding-to-an-array" target="_blank" rel="noopener noreffer ">example</a>)</td>
</tr>
<tr>
<td>removing</td>
<td><code>pop</code>, <code>shift</code>, <code>splice</code></td>
<td><code>filter</code>, <code>slice</code> (<a href="https://react.dev/learn/updating-arrays-in-state#removing-from-an-array" target="_blank" rel="noopener noreffer ">example</a>)</td>
</tr>
<tr>
<td>replacing</td>
<td><code>splice</code>, <code>arr[i] = ...</code> assignment</td>
<td><code>map</code> (<a href="https://react.dev/learn/updating-arrays-in-state#replacing-items-in-an-array" target="_blank" rel="noopener noreffer ">example</a>)</td>
</tr>
<tr>
<td>sorting</td>
<td><code>reverse</code>, <code>sort</code></td>
<td>copy the array first (<a href="https://react.dev/learn/updating-arrays-in-state#making-other-changes-to-an-array" target="_blank" rel="noopener noreffer ">example</a>)</td>
</tr>
</tbody>
</table>
<p>공식문서에서는 각 방법에 대한 예시를 보여주지만 <code>slice</code>를 활용한 <strong>inserting</strong> 예시만 가지고 왔다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">nextArtists</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Items before the insertion point:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">...</span><span class="nx">artists</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">insertAt</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// New item:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="nx">nextId</span><span class="o">++</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="nx">name</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Items after the insertion point:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">...</span><span class="nx">artists</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">insertAt</span><span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="nx">setArtists</span><span class="p">(</span><span class="nx">nextArtists</span><span class="p">);</span>
</span></span></code></pre></div></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2025-05-18</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="http://jwanp.github.io/posts/react-adding-interactivity/" data-title="[React] Adding Interactivity"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="http://jwanp.github.io/posts/react-adding-interactivity/"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Linkedin" data-sharer="linkedin" data-url="http://jwanp.github.io/posts/react-adding-interactivity/"><i class="fab fa-linkedin fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="http://jwanp.github.io/posts/react-adding-interactivity/" data-title="[React] Adding Interactivity"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="http://jwanp.github.io/posts/react-adding-interactivity/" data-title="[React] Adding Interactivity"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="http://jwanp.github.io/posts/react-adding-interactivity/" data-title="[React] Adding Interactivity" data-image="/images/tech/React-adding-interactivity.png"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Blogger" data-sharer="blogger" data-url="http://jwanp.github.io/posts/react-adding-interactivity/" data-title="[React] Adding Interactivity" data-description=""><i class="fab fa-blogger fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/react-describing-the-ui/" class="prev" rel="prev" title="[React] Describing the UI"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>[React] Describing the UI</a></div>
</div>
<div id="comments"><div id="utterances" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://utteranc.es/">utterances</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.111.3">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022 - 2025</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">박주환</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"Comment","lightTheme":"github-light","repo":"jwanp/blog-comment"}},"search":{"algoliaAppID":"6QK332EH1T","algoliaIndex":"jwanp","algoliaSearchKey":"79b39b96ee30ec1c39a4bf1a4037c605","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"algolia"}};</script><script type="text/javascript" src="/js/theme.min.js"></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'G-DZ2VH32QXR', { 'anonymize_ip': true });
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-DZ2VH32QXR" async></script></body>
</html>
